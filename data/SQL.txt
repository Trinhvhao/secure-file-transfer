CREATE DATABASE QuanLyCuaHangSachGOCREATE TABLE tblNXB(    sMaNXB VARCHAR(10) NOT NULL,    sTenNXB NVARCHAR(25) NULL,    sSDT VARCHAR(10) NULL,    sDC NVARCHAR(255) NULL,    CONSTRAINT PK_sMaNXB PRIMARY KEY(sMaNXB));INSERT INTO tblNXB(sMaNXB, sTenNXB, sSDT, sDC)VALUES  ('NXB001', N'Kim Đồng', '0213124124', N'Hà Nội'),  ('NXB002', N'Tuổi trẻ', '0213124234', N'Hà Nội'),  ('NXB003', N'Hà Nội', '0213124124', N'Hà Nội'),  ('NXB004', N'Giáo dục', '0213234324', N'Hà Nội');CREATE TABLE tblSach(    sMasach VARCHAR(10) NOT NULL,    sTensach NVARCHAR(255) NULL,    sMaNXB VARCHAR(10) NOT NULL,    sTacgia NVARCHAR(255) NULL,    sTheloai NVARCHAR(255) NULL,    CONSTRAINT PK_sMasach PRIMARY KEY(sMasach),    CONSTRAINT FK_Sach_NXB FOREIGN KEY(sMaNXB) REFERENCES tblNXB(sMaNXB));-- insert dữ liệu các sách vào bảngINSERT INTO tblSach (sMasach, sTensach, sMaNXB, sTacgia, sTheloai)VALUES    ('S001', N'Lượm', 'NXB001', N'Tố Hữu', N'Thơ'),    ('S002', N'Dế mèn phiêu lưu ký', 'NXB001', N'Tô Hoài', N'Truyện'),    ('S003', N'Dák nhân tâm', 'NXB001', N'Rich choi', N'Thơ'),    ('S004', N'Báo sáng', 'NXB002', N'Nhiều tác giả', N'Báo'),    ('S005', N'Truyện bůh bůh lmao', 'NXB002', N'Nhiều tác giả', N'Truyện'),    ('S006', N'Bí kíp làm giàu', 'NXB003', N'Huấn hoa hồng', N'Giáo dục'),    ('S007', N'Bí kíp làm giàu', 'NXB003', N'Huấn hoa hồng', N'Giáo dục'),    ('S008', N'Chuyện chưa kể', 'NXB003', N'Nhiều tác giả', N'Truyện'),    ('S009', N'Báo Hà Nội Sáng', 'NXB004', N'Nhiều tác giả', N'Báo'),    ('S010', N'Hà Nội và tôi', 'NXB004', N'Nguyễn Nam', N'Truyện'),    ('S011', N'Giáo dục công dân 11', 'NXB004', N'Nhiều tác giả', N'Giáo dục');CREATE TABLE tblBoPhan(    sMabophan VARCHAR(10) NOT NULL,    sTenbophan NVARCHAR(25) NULL,    CONSTRAINT PK_sMabophan PRIMARY KEY(sMabophan));-- Insert dữ liệu các bộ phận vào bảngINSERT INTO tblBoPhan (sMabophan, sTenbophan)VALUES    ('BP001', N'Bán Hàng'),    ('BP002', N'Bảo Vệ'),    ('BP003', N'Nhân Sự'),    ('BP004', N'Kế Toán'),    ('BP005', N'Tài Vụ'),    ('BP006', N'Kho'),    ('BP007', N'Sản Xuất'),    ('BP008', N'Marketing'),    ('BP009', N'IT'),    ('BP010', N'Hành Chính');CREATE TABLE tblNhanVien(    sMaNV VARCHAR(10) NOT NULL,    sTenNV NVARCHAR(25) NULL,    bGioitinh bit NULL,    sQuequan NVARCHAR(255) NULL,    sDiachi NVARCHAR(255) NULL,    sSDT VARCHAR(10) NULL,    fHSL FLOAT NULL,    fPC FLOAT NULL,    sMabophan VARCHAR(10) NOT NULL,    sTenchucvu NVARCHAR(25) NULL,    dNgayvaolam DATE NULL,    CONSTRAINT PK_sMaNV PRIMARY KEY(sMaNV),    CONSTRAINT CHK_fHSL CHECK (fHSL > 0),    CONSTRAINT CHK_fPC CHECK (fPC > 0),    CONSTRAINT FK_NhanVien_BoPhan FOREIGN KEY(sMabophan) REFERENCES tblBoPhan(sMabophan),    CONSTRAINT CHK_dNgayvaolam CHECK (dNgayvaolam <= GETDATE()));--Insert dữ liệu của nhân viênINSERT INTO tblNhanVien (sMaNV, sTenNV, bGioitinh, sQuequan, sDiachi, sSDT, fHSL, fPC, sMaBoPhan, sTenChucVu, dNgayVaoLam)VALUES    ('NV001', N'Trịnh Văn Hào', 1, N'Thanh Oai', N'Hà Nội', '0358365493', 7, 300000, 'BP009', N'Tổng giám đốc', '2024-03-29'),    ('NV002', N'Phạm Nga', 0, N'Nam Định', N'Hà Nội', '0155455531', 6, 300000, 'BP009', N'Phó Phòng', '2019-09-15'),    ('NV003', N'Ngô Linh', 1, N'Hải Dương', N'Hà Nội', '0155435334', 5, 200000, 'BP001', N'Nhân Viên', '2020-03-15'),    ('NV004', N'Nguyễn Ngọc', 0, N'Quảng Ninh', N'Hà Nội', '0155435234', 6, 300000, 'BP002', N'Trưởng Phòng', '2019-02-15'),    ('NV005', N'Ngô Quyền', 1, N'Bắc Giang', N'Hà Nội', '0155435334', 6, 300000, 'BP003', N'Trưởng Phòng', '2019-06-25'),    ('NV006', N'Lê Anh', 1, N'Hải Dương', N'Hà Nội', '0155435334', 5, 200000, 'BP008', N'Nhân Viên', '2020-03-01');CREATE TABLE tblHoaDon(    sMaHD VARCHAR(10) NOT NULL,    sMaNV VARCHAR(10) NULL,    dNgayLap DATE NULL,    CONSTRAINT PK_sMaHD PRIMARY KEY(sMaHD),    CONSTRAINT FK_HoaDon_NhanVien FOREIGN KEY(sMaNV) REFERENCES tblNhanVien(sMaNV),    CONSTRAINT CHK_dNgayLap CHECK (dNgayLap <= GETDATE()));-- Insert dữ liệu hoá đơnINSERT INTO tblHoaDon (sMaHD, sMaNV, dNgayLap)VALUES    ('HD001', 'NV001', '2020-06-15'),    ('HD002', 'NV002', '2020-07-15'),    ('HD003', 'NV002', '2020-03-05'),    ('HD004', 'NV003', '2020-04-06'),    ('HD005', 'NV003', '2020-07-06');CREATE TABLE tblChiTietHD(    sMaHD VARCHAR(10) NOT NULL,    sMasach VARCHAR(10) NOT NULL,    iSL INT NULL,    fDGban FLOAT NULL,    CONSTRAINT PK_sMaHD_sMasach PRIMARY KEY(sMaHD, sMasach),    CONSTRAINT FK_ChiTietHD_HoaDon FOREIGN KEY(sMaHD) REFERENCES tblHoaDon(sMaHD),    CONSTRAINT FK_ChiTietHD_Sach FOREIGN KEY(sMasach) REFERENCES tblSach(sMasach),    CONSTRAINT CHK_iSL CHECK (iSL > 0),    CONSTRAINT CHK_fDGban CHECK (fDGban > 0));--Insert dữ liệu vào hoá đơnINSERT INTO tblChiTietHD (sMaHD, sMasach, iSL, fDGban)VALUES    ('HD001', 'S001', 7, 30000),    ('HD001', 'S007', 3, 35000),    ('HD001', 'S010', 5, 30000),    ('HD002', 'S002', 6, 40000),    ('HD002', 'S005', 2, 30000),    ('HD003', 'S003', 3, 35000),    ('HD004', 'S004', 2, 50000),    ('HD004', 'S008', 8, 45000),    ('HD005', 'S001', 1, 30000),    ('HD005', 'S009', 3, 55000),    ('HD005', 'S010', 5, 50000)CREATE VIEWCREATE VIEW SoSach_NXBASSELECT tblSach.sMaNXB, COUNT(sMaSach) AS SoSachFROM tblNXBINNER JOIN tblSach ON tblNXB.sMaNXB = tblSach.sMaNXBGROUP BY tblSach.sMaNXB;SELECT * FROM SoSach_NXB;